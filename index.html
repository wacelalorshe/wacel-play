<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณูู ุจูุงู - ูุชุฌุฑ ุงูุชุทุจููุงุช ุงูุนุฑุจู</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="ูุณูู ุจูุงู - ูุชุฌุฑ ุงูุชุทุจููุงุช ุงูุนุฑุจู ุงููุฌุงูู ูุชุญููู ุฃูุถู ุงูุชุทุจููุงุช ูุงูุฃูุนุงุจ">
    <meta name="keywords" content="ุชุทุจููุงุช, ุฃูุนุงุจ, ูุณูู ุจูุงู, ูุชุฌุฑ ุชุทุจููุงุช, ุชุญููู ุชุทุจููุงุช">
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="ูุณูู ุจูุงู">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ูุณูู ุจูุงู">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-TileColor" content="#4361ee">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="theme-color" content="#4361ee">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/300/300218.png">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/300/300218.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" crossorigin="use-credentials">
    
    <!-- Styles & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/style.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
</head>
<body>
    <!-- ุงูุดุฑูุท ุงูุนููู -->
    <nav class="top-navbar">
        <div class="nav-container">
            <div class="logo-section">
                <h1 class="logo"><i class="fab fa-google-play"></i> ูุณูู ุจูุงู</h1>
            </div>
            <div class="nav-actions">
                <div class="search-icon-top" id="searchIconTop">
                    <i class="fas fa-search"></i>
                </div>
                <button id="loginBtn" class="icon-btn">
                    <span class="icon-w">W</span>
                </button>
                <button id="logoutBtn" class="btn-logout" style="display:none;">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="main-content">
        <!-- ูุณู ุงูููุฑู -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">ุงูุชุดู ุนุงูู ุงูุชุทุจููุงุช</h1>
                <p class="hero-subtitle">ุงุญุตู ุนูู ุฃูุถู ุงูุชุทุจููุงุช ุงููุฏููุนุฉ ูู ูุณูู ุณุชูุฑ ูุฌุงูุงู</p>
            </div>
        </section>

        <!-- ุดุฑูุท ุชุตููุฉ ุงููุฆุงุช -->
        <section class="categories-section">
            <div class="categories-scroll-container">
                <div class="categories-scroll">
                    <button class="category-filter active" data-category="all" onclick="filterApps('all')">
                        <i class="fas fa-th-large"></i>
                        <span>ุงููู</span>
                    </button>
                    <button class="category-filter" data-category="games" onclick="filterApps('games')">
                        <i class="fas fa-gamepad"></i>
                        <span>ุงูุฃูุนุงุจ</span>
                    </button>
                    <button class="category-filter" data-category="social" onclick="filterApps('social')">
                        <i class="fas fa-comments"></i>
                        <span>ุงูุชูุงุตู</span>
                    </button>
                    <button class="category-filter" data-category="entertainment" onclick="filterApps('entertainment')">
                        <i class="fas fa-film"></i>
                        <span>ุงูุชุฑููู</span>
                    </button>
                    <button class="category-filter" data-category="productivity" onclick="filterApps('productivity')">
                        <i class="fas fa-briefcase"></i>
                        <span>ูุชูุบุฑุงูู</span>
                    </button>
                    <button class="category-filter" data-category="education" onclick="filterApps('education')">
                        <i class="fas fa-graduation-cap"></i>
                        <span>ุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
                    </button>
                    <button class="category-filter" data-category="utility" onclick="filterApps('utility')">
                        <i class="fas fa-tools"></i>
                        <span>ุงูุฃุฏูุงุช</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- ุฌููุน ุงูุชุทุจููุงุช -->
        <section class="all-apps-section">
            <div class="section-header">
                <h2 class="section-title">ูู ุงูุชุทุจููุงุช</h2>
            </div>
            <div id="apps-list" class="apps-grid">
                <div class="loading-state">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>ุฌุงุฑู ุชุญููู ุงูุชุทุจููุงุช...</p>
                </div>
            </div>
            <div id="load-more-container" class="load-more-container" style="display: none;">
                <button id="loadMoreBtn" class="load-more-btn">
                    <i class="fas fa-chevron-down"></i>
                    ุนุฑุถ ุงููุฒูุฏ ูู ุงูุชุทุจููุงุช
                </button>
            </div>
        </section>

        <!-- ุฃูุณุงู ุฎุงุตุฉ -->
        <section class="special-sections">
            <div class="section-tabs">
                <button class="section-tab" data-section="featured" onclick="displaySpecialSection('featured')">
                    <i class="fas fa-star"></i>
                    <span>ููุชุฑุญุฉ ูู</span>
                </button>
                <button class="section-tab" data-section="trending" onclick="displaySpecialSection('trending')">
                    <i class="fas fa-fire"></i>
                    <span>ุงูุฃูุซุฑ ุฑูุงุฌุงู</span>
                </button>
                <button class="section-tab" data-section="top" onclick="displaySpecialSection('top')">
                    <i class="fas fa-crown"></i>
                    <span>ุงูุชุทุจููุงุช ุงููููุฒุฉ</span>
                </button>
            </div>
            
            <div id="featured-section" class="special-section-content" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">ููุชุฑุญุฉ ูู</h2>
                </div>
                <div id="featured-apps" class="apps-grid">
                    <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุชุทุจููุงุช ุงููููุฒุฉ ููุง -->
                </div>
            </div>
            
            <div id="trending-section" class="special-section-content" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">ุงูุฃูุซุฑ ุฑูุงุฌุงู</h2>
                </div>
                <div id="trending-apps" class="apps-grid">
                    <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุชุทุจููุงุช ุงูุดุงุฆุนุฉ ููุง -->
                </div>
            </div>
            
            <div id="top-section" class="special-section-content" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">ุงูุชุทุจููุงุช ุงููููุฒุฉ</h2>
                </div>
                <div id="top-apps" class="apps-grid">
                    <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุชุทุจููุงุช ุงููููุฒุฉ ููุง -->
                </div>
            </div>
        </section>

        <!-- ุฅุนูุงูุงุช ููุชุฑุญุฉ -->
        <section class="ads-section">
            <div class="section-header">
                <h2 class="section-title">ุฅุนูุงูุงุช ููุชุฑุญุฉ ูู</h2>
            </div>
            <div class="ads-grid">
                <div class="ad-card">
                    <div class="ad-badge">2025</div>
                    <h3>ุงูุชุฏุฑูุจุงุช ุงูููุฒููุฉ - ุจุฏูู ูุนุฏุงุช</h3>
                    <p>ุงุญุตู ุนูู ุฌุณู ูุซุงูู ูู ููุฒูู</p>
                </div>
                <div class="ad-card">
                    <div class="ad-badge">ุฌุฏูุฏ</div>
                    <h3>ุฏูุฑุงุช ุชุนููููุฉ ูุฌุงููุฉ</h3>
                    <p>ุทูุฑ ููุงุฑุงุชู ูุน ุฃูุถู ุงููุฏุฑุจูู</p>
                </div>
            </div>
        </section>
    </main>

    <!-- ุงูุดุฑูุท ุงูุณููู -->
    <nav class="bottom-navbar">
        <div class="bottom-nav-container">
            <a href="#games" class="bottom-nav-item active">
                <i class="fas fa-gamepad"></i>
                <span>ุงูุฃูุนุงุจ</span>
            </a>
            <a href="#apps" class="bottom-nav-item">
                <i class="fas fa-th-large"></i>
                <span>ุงูุชุทุจููุงุช</span>
            </a>
            <a href="#search" class="bottom-nav-item" id="bottomSearchBtn">
                <i class="fas fa-search"></i>
                <span>ุจุญุซ</span>
            </a>
        </div>
    </nav>

    <!-- ุดุฑูุท ุงูุจุญุซ ุงูููุจุซู -->
    <div id="searchModal" class="modal">
        <div class="modal-content search-modal">
            <span class="close">&times;</span>
            <div class="search-container">
                <div class="search-bar">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" placeholder="ุงุจุญุซ ุนู ุงูุชุทุจููุงุช...">
                    <button class="search-btn" onclick="performSearch()">ุจุญุซ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3><i class="fas fa-sign-in-alt"></i> ุชุณุฌูู ุงูุฏุฎูู</h3>
            <form id="loginForm">
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="ูููุฉ ุงููุฑูุฑ" required>
                </div>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-sign-in-alt"></i> ุชุณุฌูู ุงูุฏุฎูู
                </button>
            </form>
            <div id="loginMessage"></div>
            
            <div class="test-credentials">
                <h4><i class="fas fa-info-circle"></i> ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ:</h4>
                <p><strong>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</strong> admin@wacelmarkt.com</p>
                <p><strong>ูููุฉ ุงููุฑูุฑ:</strong> Admin123456</p>
            </div>
        </div>
    </div>

    <!-- ุฒุฑ ุงูุชุซุจูุช (ุณูุชู ุฅุถุงูุชู ุฏููุงููููุงู) -->
    <div id="pwa-install-container"></div>

    <!-- ุชุญููู ูููุงุช JavaScript -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>

        <!-- PWA Installation System -->
    <script>
        // ูุธุงู PWA ูุญุณูู ููุถููู
        console.log('๐ ุจุฏุก ุชุญููู ูุธุงู PWA...');

        class PWAInstaller {
            constructor() {
                this.deferredPrompt = null;
                this.isAppInstalled = false;
                this.init();
            }

            init() {
                console.log('๐ข ุชููุฆุฉ ูุธุงู PWA...');
                this.checkManifest();
                this.setupServiceWorker();
                this.setupInstallPrompt();
                this.checkInstallStatus();
                this.setupFallbackInstall();
            }

            checkManifest() {
                // ุงูุชุญูู ูู ูุฌูุฏ Manifest
                const manifestLink = document.querySelector('link[rel="manifest"]');
                if (!manifestLink) {
                    console.error('โ Manifest ุบูุฑ ููุฌูุฏ');
                    this.createFallbackManifest();
                    return;
                }

                fetch(manifestLink.href)
                    .then(response => {
                        if (!response.ok) throw new Error('Manifest ุบูุฑ ูุงุจู ููุชุญููู');
                        return response.json();
                    })
                    .then(manifest => {
                        console.log('โ Manifest ูุญูู:', manifest.name);
                        this.validateManifest(manifest);
                    })
                    .catch(error => {
                        console.error('โ ุฎุทุฃ ูู Manifest:', error);
                        this.createFallbackManifest();
                    });
            }

            createFallbackManifest() {
                console.log('๐ ุฅูุดุงุก Manifest ุงุญุชูุงุทู...');
                const fallbackManifest = {
                    name: "ูุณูู ุจูุงู",
                    short_name: "ูุณูู ุจูุงู",
                    description: "ูุชุฌุฑ ุงูุชุทุจููุงุช ุงูุนุฑุจู ุงููุฌุงูู",
                    start_url: "/",
                    display: "standalone",
                    background_color: "#4361ee",
                    theme_color: "#4361ee",
                    orientation: "portrait",
                    icons: [{
                        src: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxOTIiIGZpbGw9IiM0MzYxZWUiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iNDgiPvCfjIo8L3RleHQ+PC9zdmc+",
                        sizes: "192x192",
                        type: "image/svg+xml"
                    }]
                };

                const manifestString = JSON.stringify(fallbackManifest);
                const blob = new Blob([manifestString], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const link = document.createElement('link');
                link.rel = 'manifest';
                link.href = url;
                document.head.appendChild(link);
                
                console.log('โ Manifest ุงุญุชูุงุทู ุชู ุฅูุดุงุคู');
            }

            validateManifest(manifest) {
                const requiredFields = ['name', 'short_name', 'icons'];
                const missingFields = requiredFields.filter(field => !manifest[field]);
                
                if (missingFields.length > 0) {
                    console.error('โ ุญููู ููููุฏุฉ ูู Manifest:', missingFields);
                } else {
                    console.log('โ Manifest ุตุงูุญ');
                }
            }

            setupServiceWorker() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('sw.js')
                        .then(registration => {
                            console.log('โ Service Worker ูุณุฌู:', registration.scope);
                            
                            // ุงูุชุญูู ูู ุญุงูุฉ Service Worker
                            if (registration.installing) {
                                console.log('๐ Service Worker ุฌุงุฑู ุงูุชุซุจูุช...');
                            } else if (registration.waiting) {
                                console.log('โ Service Worker ุจุงูุชุธุงุฑ ุงูุชูุนูู');
                            } else if (registration.active) {
                                console.log('โ Service Worker ูุดุท');
                            }
                        })
                        .catch(error => {
                            console.error('โ ูุดู ุชุณุฌูู Service Worker:', error);
                            this.createFallbackServiceWorker();
                        });
                } else {
                    console.warn('โ๏ธ Service Worker ุบูุฑ ูุฏุนูู ูู ูุฐุง ุงููุชุตูุญ');
                }
            }

            createFallbackServiceWorker() {
                console.log('๐ ุงุณุชุฎุฏุงู Service Worker ุงูุชุฑุงุถู...');
                // ุณูุชุนุงูู ุจุฏูู Service Worker ูุญู ุจุฏูู
            }

            setupInstallPrompt() {
                window.addEventListener('beforeinstallprompt', (e) => {
                    console.log('๐ ุญุฏุซ beforeinstallprompt ุชู ุชุดุบููู!');
                    e.preventDefault();
                    this.deferredPrompt = e;
                    this.showInstallButton();
                    
                    // ุฅุธูุงุฑ ูุนูููุงุช ุงูุชุตุญูุญ
                    this.showDebugInfo('ุชู ุชูุนูู ุฅููุงููุฉ ุงูุชุซุจูุช');
                });

                window.addEventListener('appinstalled', (evt) => {
                    console.log('โ ุงูุชุทุจูู ุชู ุชุซุจูุชู ุจูุฌุงุญ!');
                    this.isAppInstalled = true;
                    this.hideInstallButton();
                    this.showDebugInfo('ุชู ุชุซุจูุช ุงูุชุทุจูู ุจูุฌุงุญ');
                });

                // ุฅุฐุง ูู ูุธูุฑ ุงูุญุฏุซ ุฎูุงู 5 ุซูุงูุ ุฃุธูุฑ ุงูุฒุฑ ูุฏููุงู
                setTimeout(() => {
                    if (!this.deferredPrompt && !this.isAppInstalled) {
                        console.log('โฐ ูู ูุธูุฑ ุญุฏุซ ุงูุชุซุจูุชุ ุนุฑุถ ุงูุฒุฑ ูุฏููุงู');
                        this.showInstallButton();
                    }
                }, 5000);
            }

            showInstallButton() {
                if (this.isInstalled()) {
                    console.log('โ ุงูุชุทุจูู ูุซุจุช ุจุงููุนู');
                    return;
                }

                if (document.getElementById('pwa-install-button')) {
                    return;
                }

                console.log('๐ ุนุฑุถ ุฒุฑ ุงูุชุซุจูุช...');

                const installBtn = document.createElement('button');
                installBtn.id = 'pwa-install-button';
                installBtn.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 8px; justify-content: center;">
                        <i class="fas fa-download" style="font-size: 16px;"></i>
                        <span>ุชุซุจูุช ุงูุชุทุจูู</span>
                    </div>
                `;
                
                installBtn.style.cssText = `
                    position: fixed;
                    bottom: 120px;
                    right: 15px;
                    background: linear-gradient(135deg, #4361ee, #3a56d4);
                    color: white;
                    border: none;
                    padding: 14px 20px;
                    border-radius: 25px;
                    cursor: pointer;
                    z-index: 10000;
                    box-shadow: 0 4px 20px rgba(67, 97, 238, 0.4);
                    font-family: inherit;
                    font-weight: 600;
                    font-size: 14px;
                    transition: all 0.3s ease;
                    border: 2px solid white;
                `;

                installBtn.addEventListener('mouseenter', () => {
                    installBtn.style.transform = 'translateY(-3px)';
                    installBtn.style.boxShadow = '0 6px 25px rgba(67, 97, 238, 0.6)';
                });

                installBtn.addEventListener('mouseleave', () => {
                    installBtn.style.transform = 'translateY(0)';
                    installBtn.style.boxShadow = '0 4px 20px rgba(67, 97, 238, 0.4)';
                });

                installBtn.addEventListener('click', () => {
                    this.installApp();
                });

                document.body.appendChild(installBtn);
                console.log('โ ุฒุฑ ุงูุชุซุจูุช ูุนุฑูุถ');

                // ุฅุฎูุงุก ุชููุงุฆู ุจุนุฏ 20 ุซุงููุฉ
                setTimeout(() => {
                    this.hideInstallButton();
                }, 20000);
            }

            hideInstallButton() {
                const installBtn = document.getElementById('pwa-install-button');
                if (installBtn) {
                    installBtn.style.opacity = '0';
                    installBtn.style.transform = 'translateY(10px)';
                    setTimeout(() => {
                        if (installBtn.parentNode) {
                            installBtn.parentNode.removeChild(installBtn);
                            console.log('๐ป ุฒุฑ ุงูุชุซุจูุช ูุฎูู');
                        }
                    }, 300);
                }
            }

            async installApp() {
                if (this.deferredPrompt) {
                    try {
                        console.log('๐ ุจุฏุก ุนูููุฉ ุงูุชุซุจูุช...');
                        this.deferredPrompt.prompt();
                        const { outcome } = await this.deferredPrompt.userChoice;
                        
                        if (outcome === 'accepted') {
                            console.log('โ ุงููุณุชุฎุฏู ูุจู ุงูุชุซุจูุช');
                            this.showMessage('โ ุชู ุชุซุจูุช ุงูุชุทุจูู ุจูุฌุงุญ!', 'success');
                            this.isAppInstalled = true;
                        } else {
                            console.log('โ ุงููุณุชุฎุฏู ุฑูุถ ุงูุชุซุจูุช');
                            this.showMessage('โ๏ธ ุชู ุฅูุบุงุก ุงูุชุซุจูุช', 'warning');
                        }
                        
                        this.deferredPrompt = null;
                    } catch (error) {
                        console.error('โ ุฎุทุฃ ุฃุซูุงุก ุงูุชุซุจูุช:', error);
                        this.showManualInstallGuide();
                    }
                } else {
                    console.log('๐ deferredPrompt ุบูุฑ ูุชููุฑุ ุนุฑุถ ุฏููู ุงูุชุซุจูุช ุงููุฏูู');
                    this.showManualInstallGuide();
                }
            }

            showManualInstallGuide() {
                const guide = `
                    <div style="text-align: center; padding: 20px;">
                        <h3>๐ฑ ููููุฉ ุชุซุจูุช ุงูุชุทุจูู</h3>
                        <p>1. ุงุถุบุท ุนูู <strong>ุงูููุงุท ุงูุซูุงุซ</strong> ุฃุนูู ุงููุชุตูุญ</p>
                        <p>2. ุงุฎุชุฑ <strong>"Add to Home Screen"</strong> ุฃู <strong>"ุชุซุจูุช ุงูุชุทุจูู"</strong></p>
                        <p>3. ุงุถุบุท <strong>"Add"</strong> ุฃู <strong>"ุชุซุจูุช"</strong></p>
                    </div>
                `;
                
                this.showMessage(guide, 'info');
            }

            isInstalled() {
                const isStandalone = window.matchMedia('(display-mode: standalone)').matches;
                const isInWebApp = window.navigator.standalone;
                
                if (isStandalone || isInWebApp) {
                    console.log('โ ุงูุชุทุจูู ูุนูู ูู ูุถุน ุงููุซุจุช');
                    this.isAppInstalled = true;
                    return true;
                }
                return false;
            }

            checkInstallStatus() {
                console.log('๐ ุงูุชุญูู ูู ุญุงูุฉ ุงูุชุซุจูุช...');
                console.log('- display-mode: standalone:', window.matchMedia('(display-mode: standalone)').matches);
                console.log('- navigator.standalone:', window.navigator.standalone);
                console.log('- isAppInstalled:', this.isAppInstalled);
                
                if (this.isInstalled()) {
                    this.hideInstallButton();
                }
            }

            setupFallbackInstall() {
                // ุฒุฑ ุชุซุจูุช ูุฏูู ุฅุถุงูู
                setTimeout(() => {
                    if (!this.isAppInstalled && !this.deferredPrompt) {
                        console.log('๐ ุฅุธูุงุฑ ุฎูุงุฑ ุงูุชุซุจูุช ุงููุฏูู');
                        this.showManualInstallOption();
                    }
                }, 8000);
            }

            showManualInstallOption() {
                if (document.getElementById('manual-install-btn')) return;

                const manualBtn = document.createElement('button');
                manualBtn.id = 'manual-install-btn';
                manualBtn.innerHTML = '๐ ููููุฉ ุงูุชุซุจูุช';
                manualBtn.style.cssText = `
                    position: fixed;
                    bottom: 80px;
                    right: 15px;
                    background: #f59e0b;
                    color: white;
                    border: none;
                    padding: 10px 15px;
                    border-radius: 20px;
                    cursor: pointer;
                    z-index: 9999;
                    font-size: 12px;
                    font-weight: 600;
                `;

                manualBtn.onclick = () => {
                    this.showManualInstallGuide();
                };

                document.body.appendChild(manualBtn);
            }

            showDebugInfo(message) {
                console.log('๐ง ุชุตุญูุญ:', message);
                
                // ููููู ุฅูุบุงุก ุงูุชุนููู ูุนุฑุถ ุงููุนูููุงุช ูููุณุชุฎุฏู
                /*
                const debugDiv = document.createElement('div');
                debugDiv.style.cssText = `
                    position: fixed;
                    top: 10px;
                    left: 10px;
                    background: rgba(0,0,0,0.8);
                    color: white;
                    padding: 10px;
                    border-radius: 5px;
                    font-size: 12px;
                    z-index: 10000;
                `;
                debugDiv.textContent = message;
                document.body.appendChild(debugDiv);
                setTimeout(() => debugDiv.remove(), 3000);
                */
            }

            showMessage(text, type) {
                const message = document.createElement('div');
                message.innerHTML = text;
                
                const bgColor = type === 'success' ? '#10b981' : 
                               type === 'error' ? '#ef4444' : 
                               type === 'warning' ? '#f59e0b' : '#3b82f6';
                
                message.style.cssText = `
                    position: fixed;
                    top: 100px;
                    right: 20px;
                    background: ${bgColor};
                    color: white;
                    padding: 15px 20px;
                    border-radius: 10px;
                    z-index: 10001;
                    font-weight: 500;
                    max-width: 300px;
                    animation: slideInRight 0.3s ease;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
                `;

                document.body.appendChild(message);

                setTimeout(() => {
                    message.style.animation = 'slideOutRight 0.3s ease';
                    setTimeout(() => {
                        if (message.parentNode) message.remove();
                    }, 300);
                }, type === 'info' ? 5000 : 3000);
            }
        }

        // ุฅุถุงูุฉ ุงูุฃููููุดู
        const pwaStyles = document.createElement('style');
        pwaStyles.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(pwaStyles);

        // ุจุฏุก ุงููุธุงู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('๐ฏ ุจุฏุก ูุธุงู PWA...');
            window.pwaInstaller = new PWAInstaller();

            // ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุชุญูู ููุชุทููุฑ (ูููู ุฅุฒุงูุชูุง ูุงุญูุงู)
            const devControls = document.createElement('div');
            devControls.style.cssText = `
                position: fixed;
                top: 10px;
                left: 10px;
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 10px;
                border-radius: 5px;
                font-size: 12px;
                z-index: 10000;
            `;
            devControls.innerHTML = `
                <div>PWA Controls:</div>
                <button onclick="pwaInstaller.showInstallButton()" style="margin:2px; padding:5px;">Show Install</button>
                <button onclick="console.log(pwaInstaller)" style="margin:2px; padding:5px;">Debug</button>
            `;
            document.body.appendChild(devControls);
        });

        // ุฌุนู ุงูุฏูุงู ูุชุงุญุฉ ุนุงูููุงู ููุชุตุญูุญ
        window.forceShowInstall = function() {
            if (window.pwaInstaller) {
                window.pwaInstaller.showInstallButton();
            }
        };

        // ุชุดุฎูุต ุชููุงุฆู
        setTimeout(() => {
            console.log('=== ุชุดุฎูุต PWA ===');
            console.log('deferredPrompt:', window.pwaInstaller?.deferredPrompt);
            console.log('isInstalled:', window.pwaInstaller?.isInstalled());
            console.log('Service Worker:', 'serviceWorker' in navigator);
            console.log('Manifest:', !!document.querySelector('link[rel="manifest"]'));
        }, 3000);

    </script>
</body>
</html>
</body>
</html>
